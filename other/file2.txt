Синхронизация потоков
Когда несколько threads выполняются одновременно и обращаются к одной и той же части программы или общим данным, могут возникнуть ошибки. Представьте, что два человека пытаются одновременно писать на одной доске: их записи могут пересекаться, и результат будет неразборчивым. В программировании эта проблема называется «состояние гонки» (race condition).

Чтобы предотвратить такие ситуации, используется синхронизация потоков — метод, который управляет доступом потоков к общим ресурсам, чтобы они не мешали друг другу. В Python для этого используется специальный инструмент — Lock (замок), который предоставляет модуль threading.

Как это работает?

Представим, что общий ресурс — это комната, а потоки — люди, которые хотят войти.
Замок (Lock) закрывает дверь, чтобы только один человек мог войти в комнату за раз.
Другие потоки (люди) ждут за дверью, пока текущий поток не выйдет (замок откроется).